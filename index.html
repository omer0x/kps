<!DOCTYPE html>
<html>
<head>
  <title>Kush pagun sonte ?</title>
  <style>
     body {
	display: flex;
	flex-direction: column;
	justify-content: center;
	align-items: center;
	position: relative;
	top: 20em;	
}    

     #showOutputButton {
	padding: 5px;
	font-size: 30px;
	font-weight: 900;
	height: fit-content;
	width: fit-content;
	cursor: pointer;
}    


    .output {
      margin-top: 10px;
      padding: 5px;
      border: 2px solid #000;
      height: 5em;
      width: 20em;
      font-size: 20px;
      font-weight: bold;
      justify-content: center;
      align-items: center;
      display: flex;
    }

  </style>
</head>
<body>
  <button id="showOutputButton">Kush pagun sonte ?</button>
  <div class="output" id="outputContainer"></div>

  <script>
   	  
const names = ["Omeri", "Arditi", "Azemi", "Rezoni", "Asnjoni"];

function whosPaying(names) {
  const outputContainer = document.getElementById("outputContainer");

  // Start the slot machine animation
  startSlotMachine();

  // After a certain duration, display the result
  setTimeout(function() {
    const randomPerson = names[Math.floor(Math.random() * names.length)];

    if (randomPerson === "Asnjoni") {
      animateText("Krejt pagujn perveti!");
    } else {
      animateText(randomPerson + " e ka renin me qaros sonte!");
    }
  }, 3000); // Adjust the duration of the slot machine animation (in milliseconds)

  function startSlotMachine() {
    let index = 0;
    const shuffledNames = shuffleArray(names);

    // Shuffle the names array every 100 milliseconds
    const shuffleInterval = setInterval(function() {
      outputContainer.textContent = shuffledNames[index];
      index++;

      if (index >= shuffledNames.length) {
        index = 0;
      }
    }, 100); // Adjust the speed of the slot machine animation (in milliseconds)

    // Stop the slot machine animation after a certain duration
    setTimeout(function() {
      clearInterval(shuffleInterval);
    }, 3000); // Same duration as the setTimeout above
  }

  function shuffleArray(array) {
    const newArray = array.slice();
    for (let i = newArray.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
    }
    return newArray;
  }

  function animateText(text) {
    outputContainer.textContent = ""; // Clear previous content
    let index = 0;

    function addCharacter() {
      outputContainer.textContent += text[index];
      index++;

      if (index < text.length) {
        setTimeout(addCharacter, 100); // Delay between characters (adjust as needed)
      }
    }

    addCharacter();
  }
}

document.getElementById("showOutputButton").addEventListener("click", function() {
  whosPaying(names);
});
  </script>
</body>
</html>